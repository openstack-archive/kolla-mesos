{
    "id": "/{{ deployment_id }}/{{ service_name }}",
    "instances": 1,
    "container": {
        "type": "DOCKER",
        "docker": {
            "network": "HOST"
        }
    },
    "constraints": [
        ["hostname", "UNIQUE"],
        ["openstack_role", "LIKE", "({% for role in service_openstack_roles %}{{ role }}{% if not loop.last %}|{% endif %}{% endfor %})"]
    ],
    "env": {
        "KOLLA_CONFIG_STRATEGY": "{{ config_strategy }}",
        "KOLLA_CONFIG": "{{ kolla_config }}",
        "KOLLA_LOGLEVEL": "{{ init_log_level }}",
        "KOLLA_GROUP": "{{ group }}",
        "KOLLA_ROLE": "{{ role }}",
        "KOLLA_ZK_HOSTS": "{{ zookeeper_hosts }}",
        "KOLLA_PRIVATE_INTERFACE": "{{ private_interface }}",
        "KOLLA_PUBLIC_INTERFACE": "{{ public_interface }}",
        "KOLLA_DEPLOYMENT_ID":  "{{ deployment_id }}"
    }
}
