{
    "id": "/nova-libvirt",
    "instances": 1,
    "mem": 1024,
    "taskRateLimit": 600.0,
    "cpus": 2,
    "constraints": [["hostname", "UNIQUE"]],
    "container": {
        "type": "DOCKER",
        "docker": {
            "image": "{{ nova_libvirt_image }}:{{ nova_libvirt_tag }}",
            "network": "HOST",
            "privileged": true
        },
       "volumes": [
            {
                "containerPath": "/lib/modules",
                "hostPath": "/lib/modules",
                "mode": "RO"
            },
            {
                "containerPath": "/var/lib/nova/instances",
                "hostPath": "/var/lib/nova/instances",
                "mode": "RW"
            },
            {
                "containerPath": "/var/lib/libvirt",
                "hostPath": "/var/lib/libvirt",
                "mode": "RW"
            },
            {
                "containerPath": "/run",
                "hostPath": "/run",
                "mode": "RW"
            }
        ]
    },
    "env": {
        "KOLLA_CONFIG_STRATEGY": "{{ config_strategy }}",
        "KOLLA_CONFIG": "{{ kolla_config }}",
        "KOLLA_GROUP": "nova",
        "KOLLA_ROLE": "nova-libvirt",
        "KOLLA_ZK_HOSTS": "{{ zookeeper_hosts }}",
        "KOLLA_PRIVATE_INTERFACE": "{{ private_interface }}",
        "KOLLA_PUBLIC_INTERFACE": "{{ public_interface }}"
    }
}
